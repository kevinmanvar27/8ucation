generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model banners {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  title       String?  @db.VarChar(255)
  description String?  @db.Text
  image       String   @db.VarChar(255)
  url         String?  @db.VarChar(255)
  sortOrder   Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "banners_schoolId_fkey")
}

model book_issues {
  id              Int             @id @default(autoincrement())
  bookId          Int
  memberId        Int
  studentId       Int?
  issueDate       DateTime
  dueDate         DateTime
  returnDate      DateTime?
  status          String          @default("issued") @db.VarChar(20)
  createdAt       DateTime        @default(now())
  updatedAt DateTime @updatedAt
  books           books           @relation(fields: [bookId], references: [id], onDelete: Cascade)
  library_members library_members @relation(fields: [memberId], references: [id], onDelete: Cascade)
  students        students?       @relation(fields: [studentId], references: [id])

  @@index([bookId], map: "book_issues_bookId_fkey")
  @@index([memberId], map: "book_issues_memberId_fkey")
  @@index([studentId], map: "book_issues_studentId_fkey")
}

model books {
  id          Int           @id @default(autoincrement())
  schoolId    Int
  title       String        @db.VarChar(255)
  bookNo      String        @db.VarChar(50)
  isbn        String?       @db.VarChar(50)
  author      String?       @db.VarChar(255)
  publisher   String?       @db.VarChar(255)
  subject     String?       @db.VarChar(100)
  rackNo      String?       @db.VarChar(50)
  quantity    Int           @default(1)
  available   Int           @default(1)
  price       Decimal       @default(0.00) @db.Decimal(15, 2)
  postDate    DateTime?
  description String?       @db.Text
  isActive    Boolean       @default(true)
  createdAt   DateTime      @default(now())
  updatedAt DateTime @updatedAt
  book_issues book_issues[]
  schools     schools       @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, bookNo])
}

model class_sections {
  id               Int                @id @default(autoincrement())
  classId          Int
  sectionId        Int
  capacity         Int                @default(0)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  classes          classes            @relation(fields: [classId], references: [id], onDelete: Cascade)
  sections         sections           @relation(fields: [sectionId], references: [id], onDelete: Cascade)
  class_teachers   class_teachers[]
  homeworks        homeworks[]
  lesson_plans     lesson_plans[]
  student_sessions student_sessions[]
  timetables       timetables[]

  @@unique([classId, sectionId])
  @@index([sectionId], map: "class_sections_sectionId_fkey")
}

model class_teachers {
  id             Int            @id @default(autoincrement())
  classSectionId Int
  staffId        Int
  class_sections class_sections @relation(fields: [classSectionId], references: [id], onDelete: Cascade)
  staff          staff          @relation(fields: [staffId], references: [id], onDelete: Cascade)

  @@unique([classSectionId, staffId])
  @@index([staffId], map: "class_teachers_staffId_fkey")
}

model classes {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  className      String           @db.VarChar(100)
  sortOrder      Int              @default(0)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  class_sections class_sections[]
  schools     schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  fees_masters   fees_masters[]
  homeworks      homeworks[]
  online_exams   online_exams[]
  subject_groups subject_groups[]
  timetables     timetables[]

  @@unique([schoolId, className])
}

model cms_menu_items {
  id                   Int              @id @default(autoincrement())
  menuId               Int
  parentId             Int?
  title                String           @db.VarChar(100)
  url                  String?          @db.VarChar(255)
  pageSlug             String?          @db.VarChar(255)
  target               String           @default("_self") @db.VarChar(20)
  sortOrder            Int              @default(0)
  isActive             Boolean          @default(true)
  createdAt            DateTime         @default(now())
  updatedAt DateTime @updatedAt
  cms_menus            cms_menus        @relation(fields: [menuId], references: [id], onDelete: Cascade)
  cms_menu_items       cms_menu_items?  @relation("cms_menu_itemsTocms_menu_items", fields: [parentId], references: [id])
  other_cms_menu_items cms_menu_items[] @relation("cms_menu_itemsTocms_menu_items")

  @@index([menuId], map: "cms_menu_items_menuId_fkey")
  @@index([parentId], map: "cms_menu_items_parentId_fkey")
}

model cms_menus {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  name           String           @db.VarChar(100)
  slug           String           @db.VarChar(100)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  cms_menu_items cms_menu_items[]
  schools        schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, slug])
}

model cms_pages {
  id              Int      @id @default(autoincrement())
  schoolId        Int
  title           String   @db.VarChar(255)
  slug            String   @db.VarChar(255)
  content         String?  @db.LongText
  metaTitle       String?  @db.VarChar(255)
  metaDescription String?  @db.Text
  metaKeywords    String?  @db.Text
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, slug])
}

model complaints {
  id            Int      @id @default(autoincrement())
  schoolId      Int
  complaintType String   @db.VarChar(100)
  source        String?  @db.VarChar(50)
  name          String   @db.VarChar(100)
  phone         String?  @db.VarChar(20)
  email         String?  @db.VarChar(255)
  date          DateTime
  description   String?  @db.Text
  actionTaken   String?  @db.Text
  assignedTo    Int?
  note          String?  @db.Text
  status        String   @default("pending") @db.VarChar(20)
  createdAt     DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools       schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "complaints_schoolId_fkey")
}

model content_types {
  id        Int        @id @default(autoincrement())
  schoolId  Int
  name      String     @db.VarChar(100)
  isActive  Boolean    @default(true)
  createdAt DateTime   @default(now())
  updatedAt DateTime @updatedAt
  schools   schools    @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  contents  contents[]

  @@unique([schoolId, name])
}

model contents {
  id            Int           @id @default(autoincrement())
  contentTypeId Int
  title         String        @db.VarChar(255)
  description   String?       @db.Text
  document      String?       @db.VarChar(255)
  shareWith     String        @default("all") @db.VarChar(50)
  isActive      Boolean       @default(true)
  createdAt     DateTime      @default(now())
  updatedAt DateTime @updatedAt
  content_types content_types @relation(fields: [contentTypeId], references: [id], onDelete: Cascade)

  @@index([contentTypeId], map: "contents_contentTypeId_fkey")
}

model departments {
  id        Int      @id @default(autoincrement())
  schoolId  Int
  name      String   @db.VarChar(100)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools   schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff     staff[]

  @@unique([schoolId, name])
}

model designations {
  id        Int      @id @default(autoincrement())
  schoolId  Int
  name      String   @db.VarChar(100)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools   schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff     staff[]

  @@unique([schoolId, name])
}

model enquiries {
  id                 Int                  @id @default(autoincrement())
  schoolId           Int
  name               String               @db.VarChar(100)
  phone              String?              @db.VarChar(20)
  email              String?              @db.VarChar(255)
  address            String?              @db.Text
  description        String?              @db.Text
  source             String?              @db.VarChar(50)
  classInterested    String?              @db.VarChar(100)
  followUpDate       DateTime?
  status             String               @default("active") @db.VarChar(20)
  note               String?              @db.Text
  assignedTo         Int?
  createdAt          DateTime             @default(now())
  updatedAt DateTime @updatedAt
  schools            schools              @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  enquiry_follow_ups enquiry_follow_ups[]

  @@index([schoolId], map: "enquiries_schoolId_fkey")
}

model enquiry_follow_ups {
  id           Int       @id @default(autoincrement())
  enquiryId    Int
  followUpDate DateTime
  nextFollowUp DateTime?
  response     String?   @db.Text
  note         String?   @db.Text
  createdBy    Int
  createdAt    DateTime  @default(now())
  enquiries    enquiries @relation(fields: [enquiryId], references: [id], onDelete: Cascade)

  @@index([enquiryId], map: "enquiry_follow_ups_enquiryId_fkey")
}

model events {
  id          Int       @id @default(autoincrement())
  schoolId    Int
  title       String    @db.VarChar(255)
  description String?   @db.Text
  startDate   DateTime
  endDate     DateTime?
  isHoliday   Boolean   @default(false)
  eventFor    String    @default("all") @db.VarChar(50)
  image       String?   @db.VarChar(255)
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt DateTime @updatedAt
  schools     schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "events_schoolId_fkey")
}

model exam_results {
  id               Int              @id @default(autoincrement())
  examSubjectId    Int
  studentSessionId Int
  studentId        Int
  marksObtained    Decimal?         @db.Decimal(5, 2)
  isAbsent         Boolean          @default(false)
  note             String?          @db.Text
  createdAt        DateTime         @default(now())
  updatedAt        DateTime           @updatedAt
  exam_subjects    exam_subjects    @relation(fields: [examSubjectId], references: [id], onDelete: Cascade)
  students         students         @relation(fields: [studentId], references: [id], onDelete: Cascade)
  student_sessions student_sessions @relation(fields: [studentSessionId], references: [id], onDelete: Cascade)

  @@unique([examSubjectId, studentSessionId])
  @@index([studentId], map: "exam_results_studentId_fkey")
  @@index([studentSessionId], map: "exam_results_studentSessionId_fkey")
}

model exam_schedules {
  id        Int       @id @default(autoincrement())
  examId    Int
  sessionId Int
  startDate DateTime?
  endDate   DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime @updatedAt
  exams     exams     @relation(fields: [examId], references: [id], onDelete: Cascade)
  sessions  sessions  @relation(fields: [sessionId], references: [id], onDelete: Cascade)

  @@index([examId], map: "exam_schedules_examId_fkey")
  @@index([sessionId], map: "exam_schedules_sessionId_fkey")
}

model exam_subjects {
  id           Int            @id @default(autoincrement())
  examId       Int
  subjectId    Int
  examDate     DateTime?
  startTime    String?        @db.VarChar(10)
  endTime      String?        @db.VarChar(10)
  roomNo       String?        @db.VarChar(50)
  maxMarks     Decimal        @db.Decimal(5, 2)
  minMarks     Decimal        @db.Decimal(5, 2)
  createdAt    DateTime       @default(now())
  updatedAt DateTime @updatedAt
  exam_results exam_results[]
  exams        exams          @relation(fields: [examId], references: [id], onDelete: Cascade)
  subjects     subjects       @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@unique([examId, subjectId])
  @@index([subjectId], map: "exam_subjects_subjectId_fkey")
}

model exams {
  id               Int                @id @default(autoincrement())
  schoolId         Int
  name             String             @db.VarChar(100)
  description      String?            @db.Text
  isPublished      Boolean            @default(false)
  isActive         Boolean            @default(true)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  exam_schedules   exam_schedules[]
  exam_subjects    exam_subjects[]
  exam_group_exams exam_group_exams[]
  schools          schools            @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "exams_schoolId_fkey")
}

model expense_heads {
  id          Int        @id @default(autoincrement())
  schoolId    Int
  name        String     @db.VarChar(100)
  description String?    @db.Text
  isActive    Boolean    @default(true)
  createdAt   DateTime   @default(now())
  updatedAt DateTime @updatedAt
  schools     schools    @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  expenses    expenses[]

  @@unique([schoolId, name])
}

model expenses {
  id            Int           @id @default(autoincrement())
  expenseHeadId Int
  name          String        @db.VarChar(255)
  invoiceNo     String?       @db.VarChar(100)
  date          DateTime
  amount        Decimal       @db.Decimal(15, 2)
  document      String?       @db.VarChar(255)
  description   String?       @db.Text
  createdAt     DateTime      @default(now())
  updatedAt DateTime @updatedAt
  expense_heads expense_heads @relation(fields: [expenseHeadId], references: [id], onDelete: Cascade)

  @@index([expenseHeadId], map: "expenses_expenseHeadId_fkey")
}

model fee_group_types {
  id          Int        @id @default(autoincrement())
  feeGroupId  Int
  feeTypeId   Int
  amount      Decimal    @db.Decimal(15, 2)
  dueDate     DateTime?
  fineType    String?    @db.VarChar(20)
  fineAmount  Decimal    @default(0.00) @db.Decimal(15, 2)
  finePercent Decimal    @default(0.00) @db.Decimal(5, 2)
  fee_groups  fee_groups @relation(fields: [feeGroupId], references: [id], onDelete: Cascade)
  fee_types   fee_types  @relation(fields: [feeTypeId], references: [id], onDelete: Cascade)

  @@unique([feeGroupId, feeTypeId])
  @@index([feeTypeId], map: "fee_group_types_feeTypeId_fkey")
}

model fee_groups {
  id              Int               @id @default(autoincrement())
  schoolId        Int
  name            String            @db.VarChar(100)
  description     String?           @db.Text
  isActive        Boolean           @default(true)
  createdAt       DateTime          @default(now())
  updatedAt DateTime @updatedAt
  fee_group_types fee_group_types[]
  schools         schools           @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  fees_masters    fees_masters[]

  @@index([schoolId], map: "fee_groups_schoolId_fkey")
}

model fee_payments {
  id                   Int                  @id @default(autoincrement())
  studentFeesMasterId  Int
  studentId            Int
  amount               Decimal              @db.Decimal(15, 2)
  discount             Decimal              @default(0.00) @db.Decimal(15, 2)
  fine                 Decimal              @default(0.00) @db.Decimal(15, 2)
  paymentMode          String               @db.VarChar(50)
  paymentDate          DateTime
  transactionId        String?              @db.VarChar(100)
  note                 String?              @db.Text
  collectedBy          Int?
  createdAt            DateTime             @default(now())
  updatedAt DateTime @updatedAt
  student_fees_masters student_fees_masters @relation(fields: [studentFeesMasterId], references: [id], onDelete: Cascade)
  students             students             @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@index([studentFeesMasterId], map: "fee_payments_studentFeesMasterId_fkey")
  @@index([studentId], map: "fee_payments_studentId_fkey")
}

model fee_types {
  id              Int               @id @default(autoincrement())
  schoolId        Int
  name            String            @db.VarChar(100)
  code            String?           @db.VarChar(20)
  description     String?           @db.Text
  isActive        Boolean           @default(true)
  createdAt       DateTime          @default(now())
  updatedAt DateTime @updatedAt
  fee_group_types fee_group_types[]
  schools         schools           @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

model fees_masters {
  id                   Int                    @id @default(autoincrement())
  sessionId            Int
  feeGroupId           Int
  classId              Int
  createdAt            DateTime               @default(now())
  updatedAt DateTime @updatedAt
  classes              classes                @relation(fields: [classId], references: [id], onDelete: Cascade)
  fee_groups           fee_groups             @relation(fields: [feeGroupId], references: [id], onDelete: Cascade)
  sessions             sessions               @relation(fields: [sessionId], references: [id], onDelete: Cascade)
  student_fees_masters student_fees_masters[]

  @@unique([sessionId, feeGroupId, classId])
  @@index([classId], map: "fees_masters_classId_fkey")
  @@index([feeGroupId], map: "fees_masters_feeGroupId_fkey")
}

model galleries {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  title          String           @db.VarChar(255)
  description    String?          @db.Text
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  schools        schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  gallery_images gallery_images[]

  @@index([schoolId], map: "galleries_schoolId_fkey")
}

model gallery_images {
  id        Int       @id @default(autoincrement())
  galleryId Int
  image     String    @db.VarChar(255)
  caption   String?   @db.VarChar(255)
  sortOrder Int       @default(0)
  createdAt DateTime  @default(now())
  galleries galleries @relation(fields: [galleryId], references: [id], onDelete: Cascade)

  @@index([galleryId], map: "gallery_images_galleryId_fkey")
}

model grades {
  id            Int      @id @default(autoincrement())
  schoolId      Int
  name          String   @db.VarChar(50)
  minPercentage Decimal  @db.Decimal(5, 2)
  maxPercentage Decimal  @db.Decimal(5, 2)
  gradePoint    Decimal? @db.Decimal(3, 2)
  description   String?  @db.Text
  isActive      Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools       schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}



model homeworks {
  id                   Int                    @id @default(autoincrement())
  schoolId             Int
  classId              Int
  classSectionId       Int
  subjectId            Int
  staffId              Int
  title                String                 @db.VarChar(255)
  description          String?                @db.Text
  homeworkDate         DateTime
  submissionDate       DateTime
  document             String?                @db.VarChar(255)
  evaluationDate       DateTime?
  createdAt            DateTime               @default(now())
  updatedAt DateTime @updatedAt
  homework_submissions homework_submissions[]
  classes              classes                @relation(fields: [classId], references: [id], onDelete: Cascade)
  class_sections       class_sections         @relation(fields: [classSectionId], references: [id], onDelete: Cascade)
  schools              schools                @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff                staff                  @relation(fields: [staffId], references: [id], onDelete: Cascade)
  subjects             subjects               @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@index([classId], map: "homeworks_classId_fkey")
  @@index([classSectionId], map: "homeworks_classSectionId_fkey")
  @@index([schoolId], map: "homeworks_schoolId_fkey")
  @@index([staffId], map: "homeworks_staffId_fkey")
  @@index([subjectId], map: "homeworks_subjectId_fkey")
}

model hostel_rooms {
  id          Int        @id @default(autoincrement())
  hostelId    Int
  roomTypeId  Int
  roomNo      String     @db.VarChar(50)
  noOfBeds    Int        @default(1)
  costPerBed  Decimal    @default(0.00) @db.Decimal(15, 2)
  description String?    @db.Text
  createdAt   DateTime   @default(now())
  updatedAt DateTime @updatedAt
  hostels     hostels    @relation(fields: [hostelId], references: [id], onDelete: Cascade)
  room_types  room_types @relation(fields: [roomTypeId], references: [id], onDelete: Cascade)
  students    students[]

  @@index([hostelId], map: "hostel_rooms_hostelId_fkey")
  @@index([roomTypeId], map: "hostel_rooms_roomTypeId_fkey")
}

model hostels {
  id           Int            @id @default(autoincrement())
  schoolId     Int
  name         String         @db.VarChar(100)
  type         String         @db.VarChar(20)
  address      String?        @db.Text
  intake       Int            @default(0)
  description  String?        @db.Text
  isActive     Boolean        @default(true)
  createdAt    DateTime       @default(now())
  updatedAt DateTime @updatedAt
  hostel_rooms hostel_rooms[]
  schools      schools        @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "hostels_schoolId_fkey")
}

model income_heads {
  id          Int       @id @default(autoincrement())
  schoolId    Int
  name        String    @db.VarChar(100)
  description String?   @db.Text
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt DateTime @updatedAt
  schools     schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  incomes     incomes[]

  @@unique([schoolId, name])
}

model incomes {
  id           Int          @id @default(autoincrement())
  incomeHeadId Int
  name         String       @db.VarChar(255)
  invoiceNo    String?      @db.VarChar(100)
  date         DateTime
  amount       Decimal      @db.Decimal(15, 2)
  document     String?      @db.VarChar(255)
  description  String?      @db.Text
  createdAt    DateTime     @default(now())
  updatedAt DateTime @updatedAt
  income_heads income_heads @relation(fields: [incomeHeadId], references: [id], onDelete: Cascade)

  @@index([incomeHeadId], map: "incomes_incomeHeadId_fkey")
}

model item_categories {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  description String?  @db.Text
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  items       items[]

  @@index([schoolId], map: "item_categories_schoolId_fkey")
}

model item_issues {
  id         Int       @id @default(autoincrement())
  itemId     Int
  issueType  String    @db.VarChar(50)
  issueToId  Int
  issueBy    Int
  quantity   Int       @default(1)
  issueDate  DateTime
  returnDate DateTime?
  note       String?   @db.Text
  status     String    @default("issued") @db.VarChar(20)
  createdAt  DateTime  @default(now())
  updatedAt DateTime @updatedAt
  items      items     @relation(fields: [itemId], references: [id], onDelete: Cascade)

  @@index([itemId], map: "item_issues_itemId_fkey")
}

model item_stocks {
  id            Int         @id @default(autoincrement())
  itemId        Int
  storeId       Int
  supplierId    Int?
  quantity      Int         @default(0)
  purchasePrice Decimal     @default(0.00) @db.Decimal(15, 2)
  date          DateTime
  description   String?     @db.Text
  createdAt     DateTime    @default(now())
  updatedAt DateTime @updatedAt
  items         items       @relation(fields: [itemId], references: [id], onDelete: Cascade)
  item_stores   item_stores @relation(fields: [storeId], references: [id], onDelete: Cascade)
  suppliers     suppliers?  @relation(fields: [supplierId], references: [id])

  @@index([itemId], map: "item_stocks_itemId_fkey")
  @@index([storeId], map: "item_stocks_storeId_fkey")
  @@index([supplierId], map: "item_stocks_supplierId_fkey")
}

model item_stores {
  id          Int           @id @default(autoincrement())
  schoolId    Int
  name        String        @db.VarChar(100)
  code        String?       @db.VarChar(20)
  description String?       @db.Text
  isActive    Boolean       @default(true)
  createdAt   DateTime      @default(now())
  updatedAt DateTime @updatedAt
  item_stocks item_stocks[]
  schools     schools       @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "item_stores_schoolId_fkey")
}

model items {
  id              Int             @id @default(autoincrement())
  categoryId      Int
  name            String          @db.VarChar(100)
  unit            String?         @db.VarChar(50)
  description     String?         @db.Text
  isActive        Boolean         @default(true)
  createdAt       DateTime        @default(now())
  updatedAt DateTime @updatedAt
  item_issues     item_issues[]
  item_stocks     item_stocks[]
  item_categories item_categories @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@index([categoryId], map: "items_categoryId_fkey")
}

model leave_requests {
  id          Int         @id @default(autoincrement())
  staffId     Int
  leaveTypeId Int
  fromDate    DateTime
  toDate      DateTime
  reason      String?     @db.Text
  document    String?     @db.VarChar(255)
  status      String      @default("pending") @db.VarChar(20)
  approvedBy  Int?
  adminRemark String?     @db.Text
  createdAt   DateTime    @default(now())
  updatedAt DateTime @updatedAt
  leave_types leave_types @relation(fields: [leaveTypeId], references: [id], onDelete: Cascade)
  staff       staff       @relation(fields: [staffId], references: [id], onDelete: Cascade)

  @@index([leaveTypeId], map: "leave_requests_leaveTypeId_fkey")
  @@index([staffId], map: "leave_requests_staffId_fkey")
}

model leave_types {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  name           String           @db.VarChar(100)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  leave_requests leave_requests[]
  schools        schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}



model library_members {
  id            Int           @id @default(autoincrement())
  memberType    String        @db.VarChar(20)
  studentId     Int?          @unique
  staffId       Int?
  libraryCardNo String        @db.VarChar(50)
  createdAt     DateTime      @default(now())
  updatedAt DateTime @updatedAt
  book_issues   book_issues[]
  students      students?     @relation(fields: [studentId], references: [id], onDelete: Cascade)
}

model notices {
  id          Int       @id @default(autoincrement())
  schoolId    Int
  title       String    @db.VarChar(255)
  description String?   @db.Text
  date        DateTime
  publishOn   DateTime?
  noticeFor   String    @default("all") @db.VarChar(50)
  document    String?   @db.VarChar(255)
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt DateTime @updatedAt
  schools     schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "notices_schoolId_fkey")
}

model notifications {
  id        Int      @id @default(autoincrement())
  title     String   @db.VarChar(255)
  message   String?  @db.Text
  type      String   @db.VarChar(50)
  url       String?  @db.VarChar(255)
  isRead    Boolean  @default(false)
  userId    Int
  createdAt DateTime @default(now())
}

model online_exam_questions {
  id           Int          @id @default(autoincrement())
  onlineExamId Int
  questionId   Int
  online_exams online_exams @relation(fields: [onlineExamId], references: [id], onDelete: Cascade)
  questions    questions    @relation(fields: [questionId], references: [id], onDelete: Cascade)

  @@unique([onlineExamId, questionId])
  @@index([questionId], map: "online_exam_questions_questionId_fkey")
}

model online_exam_results {
  id            Int          @id @default(autoincrement())
  onlineExamId  Int
  studentId     Int
  totalMarks    Decimal      @db.Decimal(5, 2)
  obtainedMarks Decimal      @db.Decimal(5, 2)
  percentage    Decimal      @db.Decimal(5, 2)
  isPassed      Boolean      @default(false)
  startTime     DateTime
  endTime       DateTime?
  answers       String?      @db.LongText
  createdAt     DateTime     @default(now())
  updatedAt DateTime @updatedAt
  online_exams  online_exams @relation(fields: [onlineExamId], references: [id], onDelete: Cascade)
  students      students     @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@index([onlineExamId], map: "online_exam_results_onlineExamId_fkey")
  @@index([studentId], map: "online_exam_results_studentId_fkey")
}

model online_exams {
  id                    Int                     @id @default(autoincrement())
  schoolId              Int
  classId               Int
  subjectId             Int
  title                 String                  @db.VarChar(255)
  description           String?                 @db.Text
  duration              Int
  totalMarks            Decimal                 @db.Decimal(5, 2)
  passingMarks          Decimal                 @db.Decimal(5, 2)
  attemptLimit          Int                     @default(1)
  startDate             DateTime
  endDate               DateTime
  isNegativeMarking     Boolean                 @default(false)
  negativePercent       Decimal                 @default(0.00) @db.Decimal(5, 2)
  isRandomQuestion      Boolean                 @default(false)
  isPublished           Boolean                 @default(false)
  isActive              Boolean                 @default(true)
  createdAt             DateTime                @default(now())
  updatedAt DateTime @updatedAt
  online_exam_questions online_exam_questions[]
  online_exam_results   online_exam_results[]
  classes               classes                 @relation(fields: [classId], references: [id], onDelete: Cascade)
  schools               schools                 @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  subjects              subjects                @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@index([classId], map: "online_exams_classId_fkey")
  @@index([schoolId], map: "online_exams_schoolId_fkey")
  @@index([subjectId], map: "online_exams_subjectId_fkey")
}

model parents {
  id                 Int        @id @default(autoincrement())
  schoolId           Int
  fatherName         String?    @db.VarChar(100)
  fatherPhone        String?    @db.VarChar(20)
  fatherOccupation   String?    @db.VarChar(100)
  fatherImage        String?    @db.VarChar(255)
  motherName         String?    @db.VarChar(100)
  motherPhone        String?    @db.VarChar(20)
  motherOccupation   String?    @db.VarChar(100)
  motherImage        String?    @db.VarChar(255)
  guardianName       String     @db.VarChar(100)
  guardianRelation   String?    @db.VarChar(50)
  guardianPhone      String     @db.VarChar(20)
  guardianEmail      String?    @db.VarChar(255)
  guardianOccupation String?    @db.VarChar(100)
  guardianAddress    String?    @db.Text
  guardianImage      String?    @db.VarChar(255)
  createdAt          DateTime   @default(now())
  updatedAt DateTime @updatedAt
  schools            schools    @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  students           students[]
  users              users?

  @@index([schoolId], map: "parents_schoolId_fkey")
  @@index([schoolId, guardianName])
  @@index([schoolId, guardianPhone])
}

model payrolls {
  id             Int       @id @default(autoincrement())
  staffId        Int
  month          String    @db.VarChar(20)
  year           Int
  basicSalary    Decimal   @db.Decimal(15, 2)
  earnings       String?   @db.LongText
  deductions     String?   @db.LongText
  grossSalary    Decimal   @db.Decimal(15, 2)
  totalDeduction Decimal   @db.Decimal(15, 2)
  netSalary      Decimal   @db.Decimal(15, 2)
  paymentMode    String?   @db.VarChar(50)
  paymentDate    DateTime?
  status         String    @default("pending") @db.VarChar(20)
  note           String?   @db.Text
  createdAt      DateTime  @default(now())
  updatedAt DateTime @updatedAt
  staff          staff     @relation(fields: [staffId], references: [id], onDelete: Cascade)

  @@unique([staffId, month, year])
}

model permissions {
  id               Int                @id @default(autoincrement())
  name             String             @db.VarChar(100)
  slug             String             @unique @db.VarChar(100)
  module           String             @db.VarChar(100)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  role_permissions role_permissions[]
}

model phone_call_logs {
  id           Int       @id @default(autoincrement())
  name         String    @db.VarChar(100)
  phone        String?   @db.VarChar(20)
  date         DateTime
  description  String?   @db.Text
  nextFollowUp DateTime?
  callType     String    @db.VarChar(20)
  callDuration String?   @db.VarChar(20)
  note         String?   @db.Text
  createdAt    DateTime  @default(now())
  updatedAt DateTime @updatedAt
}

model pickup_points {
  id                  Int                   @id @default(autoincrement())
  name                String                @db.VarChar(100)
  address             String?               @db.Text
  createdAt           DateTime              @default(now())
  updatedAt DateTime @updatedAt
  route_pickup_points route_pickup_points[]
}

model postal_dispatches {
  id          Int      @id @default(autoincrement())
  type        String   @db.VarChar(20)
  referenceNo String?  @db.VarChar(100)
  toTitle     String?  @db.VarChar(255)
  fromTitle   String?  @db.VarChar(255)
  address     String?  @db.Text
  date        DateTime
  note        String?  @db.Text
  document    String?  @db.VarChar(255)
  createdAt   DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model questions {
  id                    Int                     @id @default(autoincrement())
  questionType          String                  @db.VarChar(50)
  question              String                  @db.Text
  optionA               String?                 @db.Text
  optionB               String?                 @db.Text
  optionC               String?                 @db.Text
  optionD               String?                 @db.Text
  optionE               String?                 @db.Text
  correctAnswer         String?                 @db.VarChar(10)
  marks                 Decimal                 @db.Decimal(5, 2)
  level                 String                  @default("medium") @db.VarChar(20)
  hint                  String?                 @db.Text
  explanation           String?                 @db.Text
  createdAt             DateTime                @default(now())
  updatedAt DateTime @updatedAt
  online_exam_questions online_exam_questions[]
}

model role_permissions {
  id           Int         @id @default(autoincrement())
  roleId       Int
  permissionId Int
  canView      Boolean     @default(false)
  canAdd       Boolean     @default(false)
  canEdit      Boolean     @default(false)
  canDelete    Boolean     @default(false)
  permissions  permissions @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  roles        roles       @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([roleId, permissionId])
  @@index([permissionId], map: "role_permissions_permissionId_fkey")
}

model roles {
  id               Int                @id @default(autoincrement())
  schoolId         Int
  name             String             @db.VarChar(100)
  slug             String             @db.VarChar(100)
  isSystem         Boolean            @default(false)
  isActive         Boolean            @default(true)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  role_permissions role_permissions[]
  schools          schools            @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff            staff[]
  users            users[]

  @@unique([schoolId, slug])
}

model room_types {
  id           Int            @id @default(autoincrement())
  name         String         @db.VarChar(100)
  description  String?        @db.Text
  createdAt    DateTime       @default(now())
  updatedAt DateTime @updatedAt
  hostel_rooms hostel_rooms[]
}

model route_pickup_points {
  id               Int              @id @default(autoincrement())
  routeId          Int
  pickupPointId    Int
  pickupTime       String?          @db.VarChar(10)
  pickup_points    pickup_points    @relation(fields: [pickupPointId], references: [id], onDelete: Cascade)
  transport_routes transport_routes @relation(fields: [routeId], references: [id], onDelete: Cascade)
  students         students[]

  @@unique([routeId, pickupPointId])
  @@index([pickupPointId], map: "route_pickup_points_pickupPointId_fkey")
}

model schools {
  id               Int                @id @default(autoincrement())
  name             String             @db.VarChar(255)
  code             String             @unique @db.VarChar(50)
  email            String             @db.VarChar(255)
  phone            String?            @db.VarChar(20)
  address          String?            @db.Text
  city             String?            @db.VarChar(100)
  state            String?            @db.VarChar(100)
  country          String?            @db.VarChar(100)
  pincode          String?            @db.VarChar(20)
  logo             String?            @db.VarChar(255)
  favicon          String?            @db.VarChar(255)
  website          String?            @db.VarChar(255)
  currencySymbol   String             @default("$") @db.VarChar(10)
  currencyCode     String             @default("USD") @db.VarChar(10)
  dateFormat       String             @default("Y-m-d") @db.VarChar(20)
  timezone         String             @default("UTC") @db.VarChar(50)
  isActive         Boolean            @default(true)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  banners          banners[]
  books            books[]
  classes          classes[]
  cms_menus        cms_menus[]
  cms_pages        cms_pages[]
  complaints       complaints[]
  content_types    content_types[]
  departments      departments[]
  designations     designations[]
  enquiries        enquiries[]
  events           events[]
  exams            exams[]
  expense_heads    expense_heads[]
  fee_groups       fee_groups[]
  fee_types        fee_types[]
  galleries        galleries[]
  grades           grades[]
  homeworks        homeworks[]
  hostels          hostels[]
  income_heads     income_heads[]
  item_categories  item_categories[]
  item_stores      item_stores[]
  leave_types      leave_types[]
  notices          notices[]
  online_exams     online_exams[]
  parents          parents[]
  roles            roles[]
  sections         sections[]
  sessions         sessions[]
  staff            staff[]
  students         students[]
  subjects         subjects[]
  suppliers        suppliers[]
  transport_routes transport_routes[]
  users            users[]
  vehicles         vehicles[]
  visitors         visitors[]
  certificates     certificates[]
  id_card_templates id_card_templates[]
  admit_card_templates admit_card_templates[]
  marksheet_templates marksheet_templates[]
  exam_groups      exam_groups[]
  lesson_plans     lesson_plans[]
  alumni           alumni[]
  alumni_events    alumni_events[]
  chat_rooms       chat_rooms[]
  email_templates  email_templates[]
  sms_templates    sms_templates[]
  sms_config       sms_config?
  email_config     email_config?
  fee_discounts    fee_discounts[]
  custom_fields    custom_fields[]
  user_logs        user_logs[]
  student_categories student_categories[]
  student_houses   student_houses[]
  student_references student_references[]
  disable_reasons  disable_reasons[]
  front_cms_settings front_cms_settings?
}

model sections {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  sectionName    String           @db.VarChar(100)
  sortOrder      Int              @default(0)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  class_sections class_sections[]
  schools        schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, sectionName])
}

model sessions {
  id                    Int                     @id @default(autoincrement())
  schoolId              Int
  session               String                  @db.VarChar(50)
  isActive              Boolean                 @default(false)
  startDate             DateTime?
  endDate               DateTime?
  createdAt             DateTime                @default(now())
  updatedAt             DateTime                @updatedAt
  exam_schedules        exam_schedules[]
  fees_masters          fees_masters[]
  schools               schools                 @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  student_sessions      student_sessions[]
  student_fee_discounts student_fee_discounts[]

  @@unique([schoolId, session])
}

model settings {
  id        Int      @id @default(autoincrement())
  key       String   @unique @db.VarChar(100)
  value     String?  @db.Text
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model staff {
  id                Int                 @id @default(autoincrement())
  schoolId          Int
  employeeId        String              @db.VarChar(50)
  roleId            Int
  departmentId      Int?
  designationId     Int?
  firstName         String              @db.VarChar(100)
  lastName          String?             @db.VarChar(100)
  gender            String              @db.VarChar(10)
  dob               DateTime?
  email             String              @db.VarChar(255)
  phone             String?             @db.VarChar(20)
  emergencyPhone    String?             @db.VarChar(20)
  maritalStatus     String?             @db.VarChar(20)
  image             String?             @db.VarChar(255)
  currentAddress    String?             @db.Text
  permanentAddress  String?             @db.Text
  qualification     String?             @db.VarChar(255)
  experience        String?             @db.VarChar(100)
  joiningDate       DateTime?
  leavingDate       DateTime?
  bankName          String?             @db.VarChar(100)
  bankAccountNo     String?             @db.VarChar(50)
  ifscCode          String?             @db.VarChar(20)
  panNumber         String?             @db.VarChar(20)
  basicSalary       Decimal             @default(0.00) @db.Decimal(15, 2)
  contractType      String?             @db.VarChar(50)
  facebook          String?             @db.VarChar(255)
  twitter           String?             @db.VarChar(255)
  linkedin          String?             @db.VarChar(255)
  instagram         String?             @db.VarChar(255)
  resume            String?             @db.VarChar(255)
  joiningLetter     String?             @db.VarChar(255)
  otherDocuments    String?             @db.Text
  note              String?             @db.Text
  isActive          Boolean             @default(true)
  createdAt         DateTime            @default(now())
  updatedAt DateTime @updatedAt
  class_teachers    class_teachers[]
  homeworks         homeworks[]
  leave_requests    leave_requests[]
  lesson_plans      lesson_plans[]
  payrolls          payrolls[]
  departments       departments?        @relation(fields: [departmentId], references: [id])
  designations      designations?       @relation(fields: [designationId], references: [id])
  roles             roles               @relation(fields: [roleId], references: [id])
  schools           schools             @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff_attendances staff_attendances[]
  teacher_subjects  teacher_subjects[]
  timetables        timetables[]
  users             users?

  @@unique([schoolId, employeeId])
  @@index([departmentId], map: "staff_departmentId_fkey")
  @@index([designationId], map: "staff_designationId_fkey")
  @@index([roleId], map: "staff_roleId_fkey")
}

model staff_attendances {
  id        Int       @id @default(autoincrement())
  staffId   Int
  date      DateTime  @db.Date
  status    String    @db.VarChar(20)
  checkIn   DateTime?
  checkOut  DateTime?
  remark    String?   @db.Text
  createdAt DateTime  @default(now())
  updatedAt DateTime @updatedAt
  staff     staff     @relation(fields: [staffId], references: [id], onDelete: Cascade)

  @@unique([staffId, date])
}

model student_attendances {
  id               Int              @id @default(autoincrement())
  studentSessionId Int
  studentId        Int
  date             DateTime         @db.Date
  status           String           @db.VarChar(20)
  remark           String?          @db.Text
  createdAt        DateTime         @default(now())
  updatedAt        DateTime           @updatedAt
  students         students         @relation(fields: [studentId], references: [id], onDelete: Cascade)
  student_sessions student_sessions @relation(fields: [studentSessionId], references: [id], onDelete: Cascade)

  @@unique([studentSessionId, date])
  @@index([studentId], map: "student_attendances_studentId_fkey")
}

model student_documents {
  id        Int      @id @default(autoincrement())
  studentId Int
  title     String   @db.VarChar(255)
  document  String   @db.VarChar(255)
  createdAt DateTime @default(now())
  students  students @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@index([studentId], map: "student_documents_studentId_fkey")
}

model student_fees_masters {
  id               Int              @id @default(autoincrement())
  studentSessionId Int
  feesMasterId     Int
  isActive         Boolean          @default(true)
  createdAt        DateTime         @default(now())
  updatedAt        DateTime           @updatedAt
  fee_payments     fee_payments[]
  fees_masters     fees_masters     @relation(fields: [feesMasterId], references: [id], onDelete: Cascade)
  student_sessions student_sessions @relation(fields: [studentSessionId], references: [id], onDelete: Cascade)

  @@unique([studentSessionId, feesMasterId])
  @@index([feesMasterId], map: "student_fees_masters_feesMasterId_fkey")
}

model student_sessions {
  id                     Int                      @id @default(autoincrement())
  studentId              Int
  sessionId              Int
  classSectionId         Int
  rollNo                 String?                  @db.VarChar(50)
  isPromoted             Boolean                  @default(false)
  createdAt              DateTime                 @default(now())
  updatedAt DateTime @updatedAt
  exam_results           exam_results[]
  student_attendances    student_attendances[]
  student_fees_masters   student_fees_masters[]
  class_sections         class_sections           @relation(fields: [classSectionId], references: [id], onDelete: Cascade)
  sessions               sessions                 @relation(fields: [sessionId], references: [id], onDelete: Cascade)
  students               students                 @relation(fields: [studentId], references: [id], onDelete: Cascade)
  student_subject_groups student_subject_groups[]

  @@unique([studentId, sessionId])
  @@index([classSectionId], map: "student_sessions_classSectionId_fkey")
  @@index([sessionId], map: "student_sessions_sessionId_fkey")
}

model student_subject_groups {
  id               Int              @id @default(autoincrement())
  studentSessionId Int
  subjectGroupId   Int
  student_sessions student_sessions @relation(fields: [studentSessionId], references: [id], onDelete: Cascade)
  subject_groups   subject_groups   @relation(fields: [subjectGroupId], references: [id], onDelete: Cascade)

  @@unique([studentSessionId, subjectGroupId])
  @@index([subjectGroupId], map: "student_subject_groups_subjectGroupId_fkey")
}

model student_timeline {
  id          Int      @id @default(autoincrement())
  studentId   Int
  title       String   @db.VarChar(255)
  description String?  @db.Text
  date        DateTime
  document    String?  @db.VarChar(255)
  isVisible   Boolean  @default(true)
  createdAt   DateTime @default(now())
  students    students @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@index([studentId], map: "student_timeline_studentId_fkey")
}

model students {
  id                   Int                    @id @default(autoincrement())
  schoolId             Int
  admissionNo          String                 @db.VarChar(50)
  rollNo               String?                @db.VarChar(50)
  firstName            String                 @db.VarChar(100)
  middleName           String?                @db.VarChar(100)
  lastName             String?                @db.VarChar(100)
  gender               String                 @db.VarChar(10)
  dob                  DateTime?
  email                String?                @db.VarChar(255)
  phone                String?                @db.VarChar(20)
  image                String?                @db.VarChar(255)
  bloodGroup           String?                @db.VarChar(10)
  religion             String?                @db.VarChar(50)
  caste                String?                @db.VarChar(50)
  category             String?                @db.VarChar(50)
  motherTongue         String?                @db.VarChar(50)
  currentAddress       String?                @db.Text
  permanentAddress     String?                @db.Text
  city                 String?                @db.VarChar(100)
  state                String?                @db.VarChar(100)
  pincode              String?                @db.VarChar(20)
  country              String?                @db.VarChar(100)
  parentId             Int?
  fatherName           String?                @db.VarChar(100)
  fatherPhone          String?                @db.VarChar(20)
  fatherOccupation     String?                @db.VarChar(100)
  motherName           String?                @db.VarChar(100)
  motherPhone          String?                @db.VarChar(20)
  motherOccupation     String?                @db.VarChar(100)
  guardianName         String?                @db.VarChar(100)
  guardianRelation     String?                @db.VarChar(50)
  guardianPhone        String?                @db.VarChar(20)
  guardianEmail        String?                @db.VarChar(255)
  guardianAddress      String?                @db.Text
  guardianOccupation   String?                @db.VarChar(100)
  previousSchool       String?                @db.VarChar(255)
  admissionDate        DateTime?
  bankName             String?                @db.VarChar(100)
  bankAccountNo        String?                @db.VarChar(50)
  ifscCode             String?                @db.VarChar(20)
  nationalId           String?                @db.VarChar(50)
  localId              String?                @db.VarChar(50)
  rte                  Boolean                @default(false)
  hostelRoomId         Int?
  routePickupPointId   Int?
  isActive             Boolean                @default(true)
  disableReason        String?                @db.Text
  createdAt            DateTime               @default(now())
  updatedAt DateTime @updatedAt
  alumni                 alumni[]
  book_issues            book_issues[]
  exam_results           exam_results[]
  fee_payments           fee_payments[]
  homework_submissions   homework_submissions[]
  library_members        library_members?
  online_exam_results    online_exam_results[]
  student_attendances    student_attendances[]
  student_documents      student_documents[]
  student_sessions       student_sessions[]
  student_timeline       student_timeline[]
  student_fee_discounts  student_fee_discounts[]
  hostel_rooms           hostel_rooms?          @relation(fields: [hostelRoomId], references: [id])
  parents                parents?               @relation(fields: [parentId], references: [id])
  route_pickup_points    route_pickup_points?   @relation(fields: [routePickupPointId], references: [id])
  schools                schools                @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  users                  users?

  @@unique([schoolId, admissionNo])
  @@index([hostelRoomId], map: "students_hostelRoomId_fkey")
  @@index([parentId], map: "students_parentId_fkey")
  @@index([routePickupPointId], map: "students_routePickupPointId_fkey")
}

model subject_group_subjects {
  id             Int            @id @default(autoincrement())
  subjectGroupId Int
  subjectId      Int
  subject_groups subject_groups @relation(fields: [subjectGroupId], references: [id], onDelete: Cascade)
  subjects       subjects       @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@unique([subjectGroupId, subjectId])
  @@index([subjectId], map: "subject_group_subjects_subjectId_fkey")
}

model subject_groups {
  id                     Int                      @id @default(autoincrement())
  classId                Int
  name                   String                   @db.VarChar(100)
  description            String?                  @db.Text
  createdAt              DateTime                 @default(now())
  updatedAt DateTime @updatedAt
  student_subject_groups student_subject_groups[]
  subject_group_subjects subject_group_subjects[]
  classes                classes                  @relation(fields: [classId], references: [id], onDelete: Cascade)

  @@index([classId], map: "subject_groups_classId_fkey")
}

model subjects {
  id                     Int                      @id @default(autoincrement())
  schoolId               Int
  name                   String                   @db.VarChar(100)
  code                   String?                  @db.VarChar(20)
  type                   String                   @default("theory") @db.VarChar(20)
  isActive               Boolean                  @default(true)
  createdAt              DateTime                 @default(now())
  updatedAt DateTime @updatedAt
  exam_subjects          exam_subjects[]
  homeworks              homeworks[]
  lesson_plans           lesson_plans[]
  online_exams           online_exams[]
  subject_group_subjects subject_group_subjects[]
  schools                schools                  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  syllabi                syllabi[]
  teacher_subjects       teacher_subjects[]
  timetables             timetables[]

  @@unique([schoolId, name])
}

model suppliers {
  id            Int           @id @default(autoincrement())
  schoolId      Int
  name          String        @db.VarChar(100)
  phone         String?       @db.VarChar(20)
  email         String?       @db.VarChar(255)
  address       String?       @db.Text
  contactPerson String?       @db.VarChar(100)
  description   String?       @db.Text
  isActive      Boolean       @default(true)
  createdAt     DateTime      @default(now())
  updatedAt DateTime @updatedAt
  item_stocks   item_stocks[]
  schools       schools       @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "suppliers_schoolId_fkey")
}

model syllabi {
  id          Int      @id @default(autoincrement())
  subjectId   Int
  title       String   @db.VarChar(255)
  description String?  @db.Text
  document    String?  @db.VarChar(255)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  subjects    subjects @relation(fields: [subjectId], references: [id], onDelete: Cascade)
  topics      topics[]

  @@index([subjectId], map: "syllabi_subjectId_fkey")
}

model teacher_subjects {
  id        Int      @id @default(autoincrement())
  staffId   Int
  subjectId Int
  staff     staff    @relation(fields: [staffId], references: [id], onDelete: Cascade)
  subjects  subjects @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@unique([staffId, subjectId])
  @@index([subjectId], map: "teacher_subjects_subjectId_fkey")
}

model timetables {
  id             Int            @id @default(autoincrement())
  classSectionId Int
  subjectId      Int
  staffId        Int
  classId        Int
  day            String         @db.VarChar(20)
  startTime      String         @db.VarChar(10)
  endTime        String         @db.VarChar(10)
  roomNo         String?        @db.VarChar(50)
  createdAt      DateTime       @default(now())
  updatedAt DateTime @updatedAt
  classes        classes        @relation(fields: [classId], references: [id], onDelete: Cascade)
  class_sections class_sections @relation(fields: [classSectionId], references: [id], onDelete: Cascade)
  staff          staff          @relation(fields: [staffId], references: [id], onDelete: Cascade)
  subjects       subjects       @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@index([classId], map: "timetables_classId_fkey")
  @@index([classSectionId], map: "timetables_classSectionId_fkey")
  @@index([staffId], map: "timetables_staffId_fkey")
  @@index([subjectId], map: "timetables_subjectId_fkey")
}

model transport_routes {
  id                  Int                   @id @default(autoincrement())
  schoolId            Int
  title               String                @db.VarChar(100)
  fare                Decimal               @default(0.00) @db.Decimal(15, 2)
  isActive            Boolean               @default(true)
  createdAt           DateTime              @default(now())
  updatedAt DateTime @updatedAt
  route_pickup_points route_pickup_points[]
  schools             schools               @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  vehicle_routes      vehicle_routes[]

  @@index([schoolId], map: "transport_routes_schoolId_fkey")
}

model users {
  id        Int       @id @default(autoincrement())
  schoolId  Int
  username  String    @db.VarChar(100)
  email     String    @db.VarChar(255)
  password  String    @db.VarChar(255)
  userType  String    @db.VarChar(20)
  studentId Int?      @unique
  staffId   Int?      @unique
  parentId  Int?      @unique
  roleId    Int?
  isActive  Boolean   @default(true)
  lastLogin DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime @updatedAt
  parents   parents?  @relation(fields: [parentId], references: [id])
  roles     roles?    @relation(fields: [roleId], references: [id])
  schools   schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  staff     staff?    @relation(fields: [staffId], references: [id])
  students  students? @relation(fields: [studentId], references: [id])

  @@unique([schoolId, email])
  @@unique([schoolId, username])
  @@index([roleId], map: "users_roleId_fkey")
}

model vehicle_routes {
  id               Int              @id @default(autoincrement())
  vehicleId        Int
  routeId          Int
  transport_routes transport_routes @relation(fields: [routeId], references: [id], onDelete: Cascade)
  vehicles         vehicles         @relation(fields: [vehicleId], references: [id], onDelete: Cascade)

  @@unique([vehicleId, routeId])
  @@index([routeId], map: "vehicle_routes_routeId_fkey")
}

model vehicles {
  id             Int              @id @default(autoincrement())
  schoolId       Int
  vehicleNo      String           @db.VarChar(50)
  vehicleModel   String?          @db.VarChar(100)
  manufacturer   String?          @db.VarChar(100)
  driverName     String?          @db.VarChar(100)
  driverPhone    String?          @db.VarChar(20)
  driverLicense  String?          @db.VarChar(50)
  capacity       Int              @default(0)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt DateTime @updatedAt
  vehicle_routes vehicle_routes[]
  schools        schools          @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "vehicles_schoolId_fkey")
}

model visitors {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  purpose     String   @db.VarChar(100)
  name        String   @db.VarChar(100)
  phone       String?  @db.VarChar(20)
  email       String?  @db.VarChar(255)
  idCard      String?  @db.VarChar(100)
  noOfPersons Int      @default(1)
  date        DateTime
  inTime      String?  @db.VarChar(10)
  outTime     String?  @db.VarChar(10)
  toMeet      String?  @db.VarChar(100)
  note        String?  @db.Text
  image       String?  @db.VarChar(255)
  createdAt   DateTime @default(now())
  updatedAt DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@index([schoolId], map: "visitors_schoolId_fkey")
}

// ============================================
// NEW MODELS FOR MULTI-SCHOOL SYSTEM
// ============================================

// Certificates Management
model certificates {
  id              Int      @id @default(autoincrement())
  schoolId        Int
  name            String   @db.VarChar(100)
  templateContent String   @db.LongText
  headerLeft      String?  @db.VarChar(255)
  headerCenter    String?  @db.VarChar(255)
  headerRight     String?  @db.VarChar(255)
  bodyContent     String?  @db.LongText
  footerLeft      String?  @db.VarChar(255)
  footerCenter    String?  @db.VarChar(255)
  footerRight     String?  @db.VarChar(255)
  backgroundImage String?  @db.VarChar(255)
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// ID Card Templates
model id_card_templates {
  id              Int      @id @default(autoincrement())
  schoolId        Int
  name            String   @db.VarChar(100)
  type            String   @db.VarChar(20) // student, staff
  templateContent String   @db.LongText
  backgroundImage String?  @db.VarChar(255)
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name, type])
}

// Admit Card Templates
model admit_card_templates {
  id              Int      @id @default(autoincrement())
  schoolId        Int
  name            String   @db.VarChar(100)
  templateContent String   @db.LongText
  heading         String?  @db.VarChar(255)
  title           String?  @db.VarChar(255)
  examName        String?  @db.VarChar(255)
  schoolName      String?  @db.VarChar(255)
  examCenter      String?  @db.VarChar(255)
  footerText      String?  @db.Text
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Marksheet Templates
model marksheet_templates {
  id              Int      @id @default(autoincrement())
  schoolId        Int
  name            String   @db.VarChar(100)
  templateContent String   @db.LongText
  heading         String?  @db.VarChar(255)
  title           String?  @db.VarChar(255)
  examName        String?  @db.VarChar(255)
  bodyContent     String?  @db.LongText
  footerText      String?  @db.Text
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Exam Groups (Term 1, Term 2, Final, etc.)
model exam_groups {
  id          Int                @id @default(autoincrement())
  schoolId    Int
  name        String             @db.VarChar(100)
  description String?            @db.Text
  examType    String             @default("term") @db.VarChar(50) // term, unit, final
  isActive    Boolean            @default(true)
  createdAt   DateTime           @default(now())
  updatedAt   DateTime           @updatedAt
  schools     schools            @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  exam_group_exams exam_group_exams[]

  @@unique([schoolId, name])
}

// Link exams to exam groups
model exam_group_exams {
  id          Int         @id @default(autoincrement())
  examGroupId Int
  examId      Int
  weightage   Decimal     @default(100.00) @db.Decimal(5, 2)
  exam_groups exam_groups @relation(fields: [examGroupId], references: [id], onDelete: Cascade)
  exams       exams       @relation(fields: [examId], references: [id], onDelete: Cascade)

  @@unique([examGroupId, examId])
  @@index([examId], map: "exam_group_exams_examId_fkey")
}

// Topics for Syllabus
model topics {
  id          Int           @id @default(autoincrement())
  syllabusId  Int
  name        String        @db.VarChar(255)
  description String?       @db.Text
  sortOrder   Int           @default(0)
  status      String        @default("incomplete") @db.VarChar(20) // incomplete, complete
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  syllabi     syllabi       @relation(fields: [syllabusId], references: [id], onDelete: Cascade)
  lesson_plans lesson_plans[]

  @@index([syllabusId], map: "topics_syllabusId_fkey")
}

// Enhanced Lesson Plans
model lesson_plans {
  id                Int             @id @default(autoincrement())
  schoolId          Int
  classSectionId    Int?
  subjectId         Int
  staffId           Int?
  topicId           Int?
  lessonName        String          @db.VarChar(255)
  lessonDate        DateTime
  subTopic          String?         @db.VarChar(255)
  generalObjectives String?         @db.Text
  teachingMethod    String?         @db.Text
  previousKnowledge String?         @db.Text
  comprehensiveQues String?         @db.Text
  presentation      String?         @db.LongText
  note              String?         @db.Text
  youtubeUrl        String?         @db.VarChar(255)
  document          String?         @db.VarChar(255)
  status            String          @default("pending") @db.VarChar(20) // pending, completed
  createdBy         Int?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  schools           schools         @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  class_sections    class_sections? @relation(fields: [classSectionId], references: [id])
  subjects          subjects        @relation(fields: [subjectId], references: [id], onDelete: Cascade)
  staff             staff?          @relation(fields: [staffId], references: [id])
  topics            topics?         @relation(fields: [topicId], references: [id])

  @@index([schoolId], map: "lesson_plans_schoolId_fkey")
  @@index([classSectionId], map: "lesson_plans_classSectionId_fkey")
  @@index([subjectId], map: "lesson_plans_subjectId_fkey")
  @@index([staffId], map: "lesson_plans_staffId_fkey")
  @@index([topicId], map: "lesson_plans_topicId_fkey")
}

// Homework Submissions
model homework_submissions {
  id          Int       @id @default(autoincrement())
  homeworkId  Int
  studentId   Int
  document    String?   @db.VarChar(255)
  message     String?   @db.Text
  status      String    @default("pending") @db.VarChar(20) // pending, accepted, rejected
  marks       Decimal?  @db.Decimal(5, 2)
  feedback    String?   @db.Text
  submittedAt DateTime  @default(now())
  evaluatedAt DateTime?
  evaluatedBy Int?
  homeworks   homeworks @relation(fields: [homeworkId], references: [id], onDelete: Cascade)
  students    students  @relation(fields: [studentId], references: [id], onDelete: Cascade)

  @@unique([homeworkId, studentId])
  @@index([studentId], map: "homework_submissions_studentId_fkey")
}

// Alumni Management
model alumni {
  id              Int       @id @default(autoincrement())
  schoolId        Int
  studentId       Int?
  firstName       String    @db.VarChar(100)
  lastName        String?   @db.VarChar(100)
  email           String?   @db.VarChar(255)
  phone           String?   @db.VarChar(20)
  gender          String?   @db.VarChar(10)
  dateOfBirth     DateTime?
  passingYear     String?   @db.VarChar(10)
  currentJob      String?   @db.VarChar(255)
  currentCompany  String?   @db.VarChar(255)
  currentCity     String?   @db.VarChar(100)
  currentCountry  String?   @db.VarChar(100)
  linkedinUrl     String?   @db.VarChar(255)
  photo           String?   @db.VarChar(255)
  isActive        Boolean   @default(true)
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  schools         schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  students        students? @relation(fields: [studentId], references: [id])
  alumni_events_attendees alumni_events_attendees[]

  @@index([schoolId], map: "alumni_schoolId_fkey")
  @@index([studentId], map: "alumni_studentId_fkey")
}

// Alumni Events
model alumni_events {
  id          Int       @id @default(autoincrement())
  schoolId    Int
  title       String    @db.VarChar(255)
  description String?   @db.Text
  eventDate   DateTime
  venue       String?   @db.VarChar(255)
  image       String?   @db.VarChar(255)
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  schools     schools   @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  alumni_events_attendees alumni_events_attendees[]

  @@index([schoolId], map: "alumni_events_schoolId_fkey")
}

// Alumni Event Attendees
model alumni_events_attendees {
  id           Int           @id @default(autoincrement())
  eventId      Int
  alumniId     Int
  status       String        @default("registered") @db.VarChar(20) // registered, attended, cancelled
  createdAt    DateTime      @default(now())
  alumni_events alumni_events @relation(fields: [eventId], references: [id], onDelete: Cascade)
  alumni       alumni        @relation(fields: [alumniId], references: [id], onDelete: Cascade)

  @@unique([eventId, alumniId])
  @@index([alumniId], map: "alumni_events_attendees_alumniId_fkey")
}

// Chat System
model chat_rooms {
  id          Int            @id @default(autoincrement())
  schoolId    Int
  name        String?        @db.VarChar(100)
  type        String         @default("private") @db.VarChar(20) // private, group
  createdBy   Int
  isActive    Boolean        @default(true)
  createdAt   DateTime       @default(now())
  updatedAt   DateTime       @updatedAt
  schools     schools        @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  chat_messages chat_messages[]
  chat_room_members chat_room_members[]

  @@index([schoolId], map: "chat_rooms_schoolId_fkey")
}

model chat_room_members {
  id         Int        @id @default(autoincrement())
  roomId     Int
  userId     Int
  lastReadAt DateTime?
  isAdmin    Boolean    @default(false)
  createdAt  DateTime   @default(now())
  chat_rooms chat_rooms @relation(fields: [roomId], references: [id], onDelete: Cascade)

  @@unique([roomId, userId])
}

model chat_messages {
  id         Int        @id @default(autoincrement())
  roomId     Int
  senderId   Int
  message    String     @db.Text
  attachment String?    @db.VarChar(255)
  isRead     Boolean    @default(false)
  createdAt  DateTime   @default(now())
  chat_rooms chat_rooms @relation(fields: [roomId], references: [id], onDelete: Cascade)

  @@index([roomId], map: "chat_messages_roomId_fkey")
}

// Email Templates
model email_templates {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  subject     String   @db.VarChar(255)
  body        String   @db.LongText
  type        String   @db.VarChar(50) // fee_reminder, attendance, result, etc.
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// SMS Templates
model sms_templates {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  message     String   @db.Text
  type        String   @db.VarChar(50) // fee_reminder, attendance, result, etc.
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// SMS Configuration
model sms_config {
  id          Int      @id @default(autoincrement())
  schoolId    Int      @unique
  provider    String   @db.VarChar(50) // twilio, msg91, textlocal, etc.
  apiKey      String?  @db.VarChar(255)
  apiSecret   String?  @db.VarChar(255)
  senderId    String?  @db.VarChar(50)
  isActive    Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
}

// Email Configuration
model email_config {
  id            Int      @id @default(autoincrement())
  schoolId      Int      @unique
  smtpHost      String?  @db.VarChar(255)
  smtpPort      Int?
  smtpUsername  String?  @db.VarChar(255)
  smtpPassword  String?  @db.VarChar(255)
  smtpEncryption String? @db.VarChar(10) // tls, ssl
  fromEmail     String?  @db.VarChar(255)
  fromName      String?  @db.VarChar(100)
  isActive      Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  schools       schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
}

// Fee Discounts
model fee_discounts {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  code        String   @db.VarChar(50)
  type        String   @db.VarChar(20) // percentage, fixed
  value       Decimal  @db.Decimal(15, 2)
  description String?  @db.Text
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  student_fee_discounts student_fee_discounts[]

  @@unique([schoolId, code])
}

// Student Fee Discounts
model student_fee_discounts {
  id            Int           @id @default(autoincrement())
  studentId     Int
  feeDiscountId Int
  sessionId     Int
  amount        Decimal       @db.Decimal(15, 2)
  note          String?       @db.Text
  createdAt     DateTime      @default(now())
  students      students      @relation(fields: [studentId], references: [id], onDelete: Cascade)
  fee_discounts fee_discounts @relation(fields: [feeDiscountId], references: [id], onDelete: Cascade)
  sessions      sessions      @relation(fields: [sessionId], references: [id], onDelete: Cascade)

  @@index([studentId], map: "student_fee_discounts_studentId_fkey")
  @@index([feeDiscountId], map: "student_fee_discounts_feeDiscountId_fkey")
  @@index([sessionId], map: "student_fee_discounts_sessionId_fkey")
}

// Custom Fields
model custom_fields {
  id            Int                    @id @default(autoincrement())
  schoolId      Int
  belongsTo     String                 @db.VarChar(50) // student, staff, parent
  fieldName     String                 @db.VarChar(100)
  fieldType     String                 @db.VarChar(50) // text, number, date, select, checkbox, textarea
  fieldOptions  String?                @db.Text // JSON for select options
  isRequired    Boolean                @default(false)
  sortOrder     Int                    @default(0)
  isActive      Boolean                @default(true)
  createdAt     DateTime               @default(now())
  updatedAt     DateTime               @updatedAt
  schools       schools                @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  custom_field_values custom_field_values[]

  @@unique([schoolId, belongsTo, fieldName])
}

// Custom Field Values
model custom_field_values {
  id            Int           @id @default(autoincrement())
  customFieldId Int
  recordId      Int           // student_id, staff_id, or parent_id
  value         String?       @db.Text
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  custom_fields custom_fields @relation(fields: [customFieldId], references: [id], onDelete: Cascade)

  @@unique([customFieldId, recordId])
}

// User Activity Log
model user_logs {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  userId      Int
  action      String   @db.VarChar(100)
  module      String   @db.VarChar(100)
  recordId    Int?
  ipAddress   String?  @db.VarChar(50)
  userAgent   String?  @db.Text
  oldValues   String?  @db.LongText // JSON
  newValues   String?  @db.LongText // JSON
  createdAt   DateTime @default(now())
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
}

// Student Categories (for fee structure)
model student_categories {
  id          Int        @id @default(autoincrement())
  schoolId    Int
  name        String     @db.VarChar(100)
  description String?    @db.Text
  isActive    Boolean    @default(true)
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  schools     schools    @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Student Houses (for competitions)
model student_houses {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  description String?  @db.Text
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Student References (who referred the student)
model student_references {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  description String?  @db.Text
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Disable Reasons (for student disable)
model disable_reasons {
  id          Int      @id @default(autoincrement())
  schoolId    Int
  name        String   @db.VarChar(100)
  description String?  @db.Text
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  schools     schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  @@unique([schoolId, name])
}

// Front CMS Settings
model front_cms_settings {
  id              Int      @id @default(autoincrement())
  schoolId        Int      @unique
  isEnabled       Boolean  @default(true)
  theme           String   @default("default") @db.VarChar(50)
  primaryColor    String?  @db.VarChar(20)
  secondaryColor  String?  @db.VarChar(20)
  footerText      String?  @db.Text
  googleAnalytics String?  @db.VarChar(50)
  facebookUrl     String?  @db.VarChar(255)
  twitterUrl      String?  @db.VarChar(255)
  linkedinUrl     String?  @db.VarChar(255)
  instagramUrl    String?  @db.VarChar(255)
  youtubeUrl      String?  @db.VarChar(255)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  schools         schools  @relation(fields: [schoolId], references: [id], onDelete: Cascade)
}
